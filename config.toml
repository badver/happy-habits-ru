# Production baseURL - for local dev, run: hugo server (ignores this)
baseURL = "https://happy-habits.ru/"
languageCode = "ru-RU"
title = "Психолог онлайн — Помощь при тревоге и панических атаках"

# Disable unnecessary features for a landing page
disableKinds = ["RSS", "taxonomy", "term"]

# Hugo version requirement
[module]
  [module.hugoVersion]
    min = "0.120.0"

# Analytics configuration
[params]
  # Yandex.Metrika counter ID
  yandexMetrikaID = "98271361"

  # Google Analytics 4 measurement ID
  googleAnalyticsID = "G-214RJM3C13"

# A/B Testing - Landing Page Variants
[params.variants]
  enabled = true
  list = ["a", "b"]              # Variant A (control) and B (challenger)
  weights = [50, 50]             # 50/50 split for A/B test
  default = "a"                  # Default variant for fallback
  forceParam = "v"               # URL param to force variant: /?v=b

# Asset processing configuration
[build]
  writeStats = true

# Asset pipeline settings 
[params.assets]
  # SCSS compilation
  [params.assets.scss]
    transpiler = "libsass"
    # Autoprefixer for browser compatibility
    autoprefixer = true
    # Target browsers
    browsers = ["last 2 versions", "not dead", "> 0.2%"]

  # JavaScript bundling
  [params.assets.js]
    minify = true
    bundle = true

  # Image processing
  [params.assets.images]
    # Convert to WebP
    webp = true
    # Lazy loading
    lazyLoad = true
    # Responsive images
    responsive = true
    # Image quality
    quality = 85
    # Max width for images
    maxWidth = 1920

# Output formats
[outputs]
  home = ["HTML", "robots"]

# robots.txt as Hugo template output
[outputFormats.robots]
  baseName = "robots"
  mediaType = "text/plain"
  isPlainText = true

# Sitemap configuration
[sitemap]
  changefreq = "monthly"
  filename = "sitemap.xml"
  priority = 0.8

# Minification settings
[minify]
  [minify.tdewolff]
    [minify.tdewolff.html]
      keepWhitespace = false
  [minify.tdewolff.css]
    precision = 0
  [minify.tdewolff.js]
    precision = 0
